(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"01Lg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var l=n("AytR"),i=n("CcnG"),o=n("t/Na"),a=function(){function e(e){this.httpClient=e,this.searchURL=l.a.baseURL+"/search",this.createAppointmentURL=l.a.baseURL+"/Appointment/create"}return e.prototype.getAllCalendars=function(){return this.httpClient.post(this.searchURL,{attributes:{AppointmentSchedule:["id","name","enabled","scheduleInAdvanceLimit","scheduleInAdvanceMinimum","timeZone","timeZoneOffset","defaultLocation","location.id","locationName","assetName","floorMapName","floorMapId","location.latitude","location.longitude"]},queryName:"MYIT_ALL_APPOINTMENT_SCHEDULES"})},e.prototype.getTimeSlotsForCalendar=function(e,t,n){var l=-1*(new Date).getTimezoneOffset();return this.httpClient.post(this.searchURL,{attributes:{ScheduleSlotUsage:["used","modifiedDate","id","createDate","appointmentScheduleId","getTime","remaining","date","available"]},queryName:"MYIT_SLOT_USAGE_FOR_DATE",queryParameters:[{name:"appointmentScheduleId",value:e},{name:"startDateTime",value:t/1e3},{name:"timeZoneOffset",value:l},{name:"scheduleInAdvanceLimit",value:n}]})},e.prototype.submitForm=function(e){return this.httpClient.post(this.createAppointmentURL,{Appointment:e})},e.prototype.getUserAppointments=function(e,t){return this.httpClient.post(this.searchURL,{lastSyncTime:t,queryName:"MYIT_USER_APPOINTMENTS",queryParameters:[{name:"userId",value:e}]})},e.ngInjectableDef=i["ɵɵdefineInjectable"]({factory:function(){return new e(i["ɵɵinject"](o.c))},token:e,providedIn:"root"}),e}()},BvK0:function(e,t,n){"use strict";var l=n("YBmv"),i=n("fywt"),o=function(e,t){return e<t};t.a=function(e,t){return e&&e.length?Object(l.a)(e,Object(i.a)(t,2),o):void 0}},DpjM:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},YBmv:function(e,t,n){"use strict";var l=n("G8aS");t.a=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===r?s==s&&!Object(l.a)(s):n(s,r)))var r=s,u=a}return u}},o9tG:function(e,t,n){"use strict";var l=n("mrSG"),i=(n("01Lg"),n("wd/R")),o=(n("ey9i"),n("9c9J")),a=(n("SvQ6"),n("pmNg"),n("ssV3"),function(e){return e[e.enabled=1]="enabled",e[e.disabled=0]="disabled",e}({})),s=n("o+Bg"),r=(n("8Rkm"),n("yIs4")),u=n("OZf9"),c=n("BvK0"),d=n("7EGn"),p=n("CpTu"),m=n("BIm4"),h=n("hVfx");n.d(t,"a",(function(){return f}));var f=function(){function e(e,t,n,l,a,s,r,u,c,d,p,h){var f=this;this.appointmentService=e,this.translateService=t,this.dateService=n,this.userService=l,this.locationService=a,this.storageProviderService=s,this.adaptDeviceDetectionService=r,this.dwpDate=u,this.geoPositionService=c,this.activeModalRef=d,this.modalService=p,this.toastMessageService=h,this.dateType=o.a,this.dateFormats=m.a,this.dateErrors=this.dateService.getDateTimeErrorTexts(),this.datePickerLabels=this.dateService.getLocalizedLabels(),this.itemsToPicker=[],this.locationsListLoading=!0,this.timeSlotsLoading=!1,this.selectedSlot=null,this.defaultLocationButtonTitle=this.translateService.instant("common.labels.select"),this.slots=[],this.slotsData=[],this.timeSlotsEmpty=!1,this.isMobile=!1,this.wasCalendarSelected=!1,this.location="",this.isOnlyAvailableSlotsChecked=!1,this.isDateSelected=!1,this.exchangeConfigured=!1,this.noCalendars=!1,this.pickerAppointmentLocales={searchPlaceholder:this.translateService.instant("appointment.picker.searchPlaceholder"),pushToAction:this.translateService.instant("appointment.picker.pushToAction")},this.checkIsDateInFuture=function(e){if(f.selectedCalendar){var t=i().utcOffset(f.selectedCalendar.timeZoneOffset).startOf("day"),n=t.clone().add(f.selectedCalendar.scheduleInAdvanceLimit,"day").endOf("day");return i().utcOffset(f.selectedCalendar.timeZoneOffset).set({year:e.get("year"),month:e.get("month"),date:e.get("date"),hour:0,minute:0,second:0,millisecond:0}).isBetween(t,n,null,"[]")}return!0}}return e.prototype.ngOnInit=function(){var e=this;this.currentModalRef=Object(l.__assign)({},this.activeModalRef),this.checkIsExchangeProviderConfigured(),this.isMobile=this.adaptDeviceDetectionService.isMobile(),this.userPositionPromise=this.geoPositionService.getUserCoordinates(),this.calendarButtonTitle=this.previousSelectedCalendar?this.previousSelectedCalendar.firstLine:this.defaultLocationButtonTitle,this.previousSelectedCalendar=this.parsePreviousSelectedCalendar(),this.previousSelectedCalendar&&(this.calendarSelected([this.previousSelectedCalendar]),this.calendarButtonTitle=this.previousSelectedCalendar.firstLine),this.appointmentService.getAllCalendars().subscribe((function(t){t&&t[0]&&t[0].items&&t[0].items[0]?(e.itemsToPicker=e.getItemsToPicker(t[0].items),e.allCalendars=t[0].items):e.noCalendars=!0,e.syncTime=t.syncTime,e.previousSelectedCalendar=e.getPreviousSelectedCalendar(e.userService.currentUserId),e.locationsListLoading=!1,e.userPositionPromise.then((function(n){t&&t[0]&&e.userPositionSuccessHandler(n,t[0].items)})).catch((function(){console.error("Can not get userPositionPromise")}))}),(function(){e.noCalendars=!0,e.locationsListLoading=!1}))},e.prototype.userPositionSuccessHandler=function(e,t){var n=this;this.userCoordinates={latitude:e.latitude,longitude:e.longitude},this.calendarsWithCoordinates=t.filter((function(e){return Object(r.a)(e["location.latitude"])&&Object(r.a)(e["location.longitude"])}));var l=[];Object(u.a)(this.calendarsWithCoordinates,(function(e){l.push({name:e.name,latitude:e["location.latitude"],longitude:e["location.longitude"]})})),Object(u.a)(l,(function(e){e.distanceToUser=n.locationService.calculateDistanceVariable(n.userCoordinates,e),e.distanceToUser&&(e.distanceToUser=parseFloat(e.distanceToUser))}));var i=Object(c.a)(l,"distanceToUser");this.calendarButtonTitle!==this.defaultLocationButtonTitle&&this.calendarButtonTitle!==this.previousSelectedCalendar.firstLine&&!this.wasCalendarSelected&&i&&(this.calendarButtonTitle=i.name)},e.prototype.calendarSelected=function(e){void 0===e&&(e=[]),this.selectedCalendar!==e[0]?(this.selectedSlot=null,this.slots=[],this.slotsData=[],this.isDateSelected=Boolean(this.selectedDate),this.selectedCalendar=e[0],this.wasCalendarSelected=!0,this.selectedCalendar?(this.location=this.selectedCalendar.additionalData[0],this.calendarButtonTitle=e[0].firstLine||this.defaultLocationButtonTitle,this.isDateSelected&&(this.timeSlotsLoading=!0,this.getTimeSlots(this.selectedCalendar.id,this.selectedDate,this.selectedCalendar.scheduleInAdvanceLimit)),this.pickerPopup&&this.pickerPopup.closePicker()):this.calendarButtonTitle=this.defaultLocationButtonTitle,this.locationName=Object(d.a)({event:e},"event[0].additionalData[0]",null)):this.pickerPopup&&this.pickerPopup.closePicker()},e.prototype.typedTextfieldValue=function(e){this.description=e},e.prototype.slotChanged=function(e){e&&e.slot&&(this.checkIfSlotAlreadySubmitted(e)?this.showSlotSelectConfirmationModal(e):this.selectedSlot=this.slotsData[e.index])},e.prototype.isSubmitEnabled=function(){return Boolean(this.selectedCalendar&&this.description&&this.description.trim().length>0&&this.selectedSlot&&this.selectedDate)},e.prototype.getTimeSlots=function(e,t,n){var l=this,a=i(t).startOf("day").valueOf();e&&a?(this.timeSlotsResult&&this.timeSlotsResult.unsubscribe(),this.timeSlotsResult=this.appointmentService.getTimeSlotsForCalendar(e,a,n).subscribe((function(t){l.slots.splice(0,l.slots.length),l.slotsData=[],l.timeSlotsLoading=!0,t[0].items.forEach((function(t){if(t&&t.remaining>0&&(l.isOnlyAvailableSlotsChecked&&t.available||!l.isOnlyAvailableSlotsChecked)){var n=l.slotDateToTimezone(1e3*t.date,t.timeZoneOffset);if(l.slotIsValid(e,t,n)){var i=l.dwpDate.transform(n,o.a.simpleTime);l.slots.push(i),l.slotsData.push(t)}}})),l.slots.length||(l.timeSlotsEmpty=!0),l.timeSlotsLoading=!1}),(function(){l.timeSlotsLoading=!1,console.log("Error in getTimeSlotsForCalendar")}))):console.log("There are empty some fields")},e.prototype.slotDateToTimezone=function(e,t){void 0===t&&(t=0);var n=t-i(e).utcOffset();return i(e).add(n,"minutes")},e.prototype.setSelectedDate=function(e){this.selectedSlot=null,this.slots=[],this.slotsData=[],this.timeSlotsLoading=!0,this.isDateSelected=Boolean(this.selectedDate),this.getTimeSlots(this.selectedCalendar.id,e,this.selectedCalendar.scheduleInAdvanceLimit)},e.prototype.submitData=function(){var e=this,t=this.userService.currentUserId,n={appointmentScheduleId:this.selectedCalendar.id||this.previousSelectedCalendar,cancel:!1,date:this.selectedSlot.date,notes:this.description.trim(),userId:t};this.appointmentService.submitForm(n).subscribe((function(){var t=e.slotDateToTimezone(1e3*e.selectedSlot.date,e.selectedSlot.timeZoneOffset),n=e.dwpDate.transform(t.valueOf(),o.a.dateTime),l=e.translateService.instant("appointment.submit.success.content.date",{date:n})+" "+e.translateService.instant("appointment.submit.success.content.location",{location:e.locationName||e.calendarButtonTitle})+" "+e.translateService.instant("appointment.submit.success.content.description",{description:e.description});e.showSuccessToast(e.translateService.instant("appointment.submit.success.title"),l),e.storageProviderService.getLocalStorage().set("defaultCalendar",JSON.stringify(e.selectedCalendar)),e.closeModal()}),(function(t){console.error("Error in submitForm: ",t);var n=e.translateService.instant("appointment.submit.error.content")+" \n "+e.translateService.instant("appointment.submit.error.content.errorCode",{errorCode:t.error.additionalMessage+" ("+t.error.errorCode+")"});e.showErrorToast(e.translateService.instant("appointment.submit.error.title"),n)}))},e.prototype.closeModal=function(){this.currentModalRef.dismiss()},e.prototype.toogleAvailableSlots=function(){this.isOnlyAvailableSlotsChecked=!this.isOnlyAvailableSlotsChecked,this.getTimeSlots(this.selectedCalendar.id,this.selectedDate,this.selectedCalendar.scheduleInAdvanceLimit)},e.prototype.getItemsToPicker=function(e){var t=this;return e.map((function(e){if(e.enabled===a.enabled){var n=[];return e.locationName?n=e.floorMapName&&e.assetName?[e.locationName+", "+e.floorMapName+", "+e.assetName]:[e.locationName+", "+e.defaultLocation]:e.defaultLocation?n=[e.defaultLocation]:t.defaultLocationButtonTitle=t.translateService.instant("appointment.picker.searchPlaceholder.noLocations"),{id:e.id,firstLine:e.name,scheduleInAdvanceLimit:e.scheduleInAdvanceLimit||1,timeZoneOffset:e.timeZoneOffset,additionalData:n}}})).filter((function(e){return Boolean(e)}))},e.prototype.getPreviousSelectedCalendar=function(e){var t=this;return this.appointmentService.getUserAppointments(e,this.syncTime).subscribe((function(e){return t.previousSelectedCalendar=e,e}),(function(){console.log("Error in getUserAppointments")}))},e.prototype.parsePreviousSelectedCalendar=function(){var e=null;try{var t=this.storageProviderService.getLocalStorage().get("defaultCalendar");t&&(e=JSON.parse(t))}catch(n){console.error(n)}return e},e.prototype.checkIfSlotAlreadySubmitted=function(e){if(e&&this.previousSelectedCalendar&&this.previousSelectedCalendar[0]&&this.previousSelectedCalendar[0].items){var t=this.slotsData[e.index];return Boolean(Object(p.a)(this.previousSelectedCalendar[0].items,(function(e){return e.date===t.date})))}},e.prototype.showSlotSelectConfirmationModal=function(e){var t=this,n={title:this.translateService.instant("appointment.duplicateConfirmation.title"),content:s.a,size:"sm",data:{text:this.translateService.instant("appointment.duplicateConfirmation.text"),noText:this.translateService.instant("common.buttons.no"),yesText:this.translateService.instant("common.buttons.yes")}};this.modalService.open(n).then((function(n){t.selectedSlot=n.confirmed?t.slotsData[e.index]:null}),(function(){}))},e.prototype.slotIsValid=function(e,t,n){var l=!0,o=this.slotDateToTimezone(i(),t.timeZoneOffset),a=Object(p.a)(this.allCalendars,(function(t){return t.id===e}));return n<i()&&(l=!1),(!a||o.add(a.scheduleInAdvanceMinimum,"h")>n)&&(l=!1),l},e.prototype.checkIsExchangeProviderConfigured=function(){var e=this;this.userService.isExchangeProviderConfigured().then((function(t){e.exchangeConfigured=t}))},e.prototype.showSuccessToast=function(e,t){this.toastMessageService.setToastMessage({severity:h.a.SUCCESS,summary:e,detail:t})},e.prototype.showErrorToast=function(e,t){this.toastMessageService.setToastMessage({severity:h.a.ERROR,summary:e,detail:t})},e}()},pmNg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("CcnG"),i=function(){function e(){}return e.prototype.getUserCurrentPosition=function(){return new Promise((function(t,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){e.currentUserPosition=n.coords,t(n.coords)}),(function(e){n({error:e})}),{maximumAge:6e4,timeout:1e4}):n({error:"GeoLocation is not supported"})}))},e.prototype.getUserCoordinates=function(){return e.currentUserPosition?new Promise((function(t){t(e.currentUserPosition)})):this.getUserCurrentPosition()},e.ngInjectableDef=l["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e}()},sTXg:function(e,t,n){"use strict";var l=n("CcnG"),i=n("C27e"),o=n("gIcY"),a=n("vcIA"),s=n("A7o+"),r=n("mtDU"),u=n("8Rkm"),c=n("hNUI"),d=n("Ip0R"),p=n("+FnK"),m=n("Po96"),h=n("2X/n"),f=n("9c9J"),v=(n("ey9i"),function(){function e(e){this.featureService=e,this.currentSymbolsValue=0,this.texfieldValue=new l.EventEmitter}return e.prototype.ngOnInit=function(){var e=this.featureService.getDeviceRebrandingSettings()||{};this.descriptionPlaceholder=e.appointmentsDescriptionInstructions},e.prototype.countSymbols=function(e){this.texfieldValue.emit(e),this.currentSymbolsValue=e&&e.length>0?e.length:0},e}()),g=n("vlDY"),b=l["ɵcrt"]({encapsulation:0,styles:[[".textarea__count-results[_ngcontent-%COMP%]{top:1.3rem;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end;position:relative}"]],data:{}});function C(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"span",[["class","text-tertiary textarea__count-results"]],null,null,null,null,null)),(e()(),l["ɵted"](1,null,["","/",""])),(e()(),l["ɵeld"](2,0,null,null,6,"adapt-textfield",[],[[1,"id",0],[2,"form-group",null],[2,"textfield",null],[2,"is-icons",null]],[[null,"valueChanged"]],(function(e,t,n){var l=!0;return"valueChanged"===t&&(l=!1!==e.component.countSymbols(n)&&l),l}),i.Zb,i.X)),l["ɵprd"](5120,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[a.Kd]),l["ɵdid"](4,7061504,null,0,a.Kd,[l.ElementRef,l.Renderer2,[2,a.ye]],{label:[0,"label"],maxlength:[1,"maxlength"],placeholder:[2,"placeholder"],name:[3,"name"],requiredLabel:[4,"requiredLabel"],errorMessage:[5,"errorMessage"],successMessage:[6,"successMessage"],required:[7,"required"],rows:[8,"rows"]},{valueChanged:"valueChanged"}),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef])],(function(e,t){var n=t.component;e(t,4,0,l["ɵinlineInterpolate"](1,"",l["ɵunv"](t,4,0,l["ɵnov"](t,5).transform("appointment.location.picker.labelForDescription")),""),n.textfieldLength,l["ɵinlineInterpolate"](1,"",n.descriptionPlaceholder,""),"description",l["ɵunv"](t,4,4,l["ɵnov"](t,6).transform("common.labels.required")),l["ɵunv"](t,4,5,l["ɵnov"](t,7).transform("appointment.location.picker.errorDescription")),l["ɵunv"](t,4,6,l["ɵnov"](t,8).transform("appointment.location.picker.successDescription")),!0,n.textfieldRows)}),(function(e,t){var n=t.component;e(t,1,0,n.currentSymbolsValue,n.textfieldLength),e(t,2,0,l["ɵnov"](t,4).id,!0,!0,l["ɵnov"](t,4).iconValid&&l["ɵnov"](t,4).validState||l["ɵnov"](t,4).iconInvalid&&l["ɵnov"](t,4).isError)}))}var S=n("pmNg"),y=n("o9tG"),_=n("01Lg"),I=n("BIm4"),T=n("ryO2"),L=n("ssV3"),D=n("SvQ6"),R=n("hVfx");n.d(t,"a",(function(){return U}));var k=l["ɵcrt"]({encapsulation:0,styles:[[".appointment__picker-button[_ngcontent-%COMP%]{margin-bottom:1rem}.appointment__picker-button-text[_ngcontent-%COMP%]{max-height:1.25rem;overflow:hidden}@media (min-width:768px){adapt-datetime[_ngcontent-%COMP%]{width:50%}}[dir=ltr]   [_nghost-%COMP%]   .appointment__info_icon[_ngcontent-%COMP%]{margin-right:.3rem}[dir=rtl]   [_nghost-%COMP%]   .appointment__info_icon[_ngcontent-%COMP%]{margin-left:.3rem}.appointment__picker-popup[_ngcontent-%COMP%]{margin-top:.5rem;width:23.5rem;max-width:100%;padding-top:0;padding-bottom:0}"]],data:{}});function P(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,3,"adapt-textfield",[["disabled",""]],[[1,"id",0],[2,"form-group",null],[2,"textfield",null],[2,"is-icons",null]],null,null,i.Zb,i.X)),l["ɵprd"](5120,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[a.Kd]),l["ɵdid"](2,7061504,null,0,a.Kd,[l.ElementRef,l.Renderer2,[2,a.ye]],{placeholder:[0,"placeholder"],disabled:[1,"disabled"]},null),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef])],(function(e,t){e(t,2,0,l["ɵinlineInterpolate"](1,"",l["ɵunv"](t,2,0,l["ɵnov"](t,3).transform("appointment.picker.searchPlaceholder.noLocations")),""),"")}),(function(e,t){e(t,0,0,l["ɵnov"](t,2).id,!0,!0,l["ɵnov"](t,2).iconValid&&l["ɵnov"](t,2).validState||l["ɵnov"](t,2).iconInvalid&&l["ɵnov"](t,2).isError)}))}function A(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,10,"dwp-picker-popup",[["picker",""]],null,[[null,"selectItems"]],(function(e,t,n){var l=!0;return"selectItems"===t&&(l=!1!==e.component.calendarSelected(n)&&l),l}),r.b,r.a)),l["ɵdid"](1,245760,[[1,4],["pickerPopup",4]],0,u.a,[c.a,s.j],{title:[0,"title"],btnClassName:[1,"btnClassName"],locales:[2,"locales"],selectedItems:[3,"selectedItems"],itemsToFilter:[4,"itemsToFilter"],dataIsLoading:[5,"dataIsLoading"],scrollableAreaHeightDesktop:[6,"scrollableAreaHeightDesktop"],noReset:[7,"noReset"]},{selectItems:"selectItems"}),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵpad"](3,1),(e()(),l["ɵeld"](4,0,null,0,6,"div",[["btnContent",""],["class","appointment__picker-button-text"]],null,[[null,"mouseenter"],[null,"mousemove"],[null,"mouseleave"]],(function(e,t,n){var i=!0;return"mouseenter"===t&&(i=!1!==l["ɵnov"](e,9).mouseEnter(n)&&i),"mousemove"===t&&(i=!1!==l["ɵnov"](e,9).mouseMove(n)&&i),"mouseleave"===t&&(i=!1!==l["ɵnov"](e,9).mouseLeave(n)&&i),i}),null,null)),l["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](6,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](7,{"appointment__picker-button-text_with-overflow":0}),l["ɵdid"](8,147456,[["overflowTitle",4]],0,p.a,[l.ElementRef,m.a,l.ChangeDetectorRef,h.a,l.Renderer2],{content:[0,"content"]},null),l["ɵdid"](9,212992,null,0,a.Xd,[l.ElementRef,l.Injector,l.ComponentFactoryResolver,l.ApplicationRef,l.NgZone,a.fb],{adaptTooltip:[0,"adaptTooltip"]},null),(e()(),l["ɵted"](10,null,["",""]))],(function(e,t){var n=t.component,i=l["ɵunv"](t,1,0,l["ɵnov"](t,2).transform("appointment.location.picker.labelForCalendars")),o="btn btn-secondary text-align-start appointment__picker-button "+(n.isMobile?"btn-block":"appointment__picker-toggle"),a=n.pickerAppointmentLocales,s=n.selectedCalendar&&e(t,3,0,n.selectedCalendar)||l["ɵEMPTY_ARRAY"];e(t,1,0,i,o,a,s,n.itemsToPicker,n.locationsListLoading,"calc(100vh - 17.875rem)",!0);var r=e(t,7,0,l["ɵnov"](t,8).hasContent);e(t,6,0,"appointment__picker-button-text",r),e(t,8,0,n.calendarButtonTitle),e(t,9,0,l["ɵnov"](t,8).content)}),(function(e,t){e(t,10,0,t.component.calendarButtonTitle)}))}function M(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"adapt-time-slot",[],null,[[null,"selected-slot-changed"]],(function(e,t,n){var l=!0;return"selected-slot-changed"===t&&(l=!1!==e.component.slotChanged(n)&&l),l}),i.bc,i.Z)),l["ɵdid"](1,4767744,null,0,a.Sd,[l.Renderer2],{label:[0,"label"],slot:[1,"slot"]},{selectedSlotChanged:"selected-slot-changed"}),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef])],(function(e,t){var n=t.component;e(t,1,0,l["ɵunv"](t,1,0,l["ɵnov"](t,2).transform("appointment.timeSlots.available")),n.slots)}),null)}function O(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,7,"div",[["class","text-info"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,"adapt-icon",[["class","appointment__info_icon"]],null,null,null,i.Db,i.B)),l["ɵdid"](2,49152,null,0,a.Ib,[l.ElementRef,l.Renderer2,a.Jb],{name:[0,"name"]},null),(e()(),l["ɵeld"](3,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](4,null,["",""])),l["ɵppd"](5,2),l["ɵpod"](6,{date:0}),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef])],(function(e,t){e(t,2,0,"info_circle")}),(function(e,t){var n=t.component,i=l["ɵunv"](t,4,0,l["ɵnov"](t,7).transform("appointment.timeSlots.empty",e(t,6,0,l["ɵunv"](t,4,0,e(t,5,0,l["ɵnov"](t.parent,0),n.selectedDate,n.dateType.dayDate)))));e(t,4,0,i)}))}function x(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,16777216,null,null,4,"span",[],null,null,null,null,null)),l["ɵprd"](512,null,a.Ge,a.Ge,[]),l["ɵdid"](3,409600,null,0,a.u,[a.x,a.Ge,l.ComponentFactoryResolver,l.ViewContainerRef,l.Injector],{options:[0,"options"]},null),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵpod"](5,{busy:0,loaderType:1,backdrop:2,message:3})],(function(e,t){var n=e(t,5,0,t.component.timeSlotsLoading,"inline",!1,l["ɵunv"](t,3,0,l["ɵnov"](t,4).transform("common.labels.loadingWithDots")));e(t,3,0,n)}),null)}function N(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,7,"adapt-checkbox2",[["name","availability"]],[[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],(function(e,t,n){var l=!0,i=e.component;return"ngModelChange"===t&&(l=!1!==(i.isOnlyAvailableSlotsChecked=n)&&l),"change"===t&&(l=!1!==i.toogleAvailableSlots()&&l),l}),i.vb,i.t)),l["ɵdid"](1,114688,null,0,a.F,[l.Injector,l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{label:[0,"label"],name:[1,"name"],disabled:[2,"disabled"]},{change:"change"}),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵprd"](1024,null,o.NG_VALIDATORS,(function(e){return[e]}),[a.F]),l["ɵprd"](1024,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[a.F]),l["ɵdid"](5,671744,null,0,o.NgModel,[[2,o.ControlContainer],[6,o.NG_VALIDATORS],[8,null],[6,o.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,o.NgControl,null,[o.NgModel]),l["ɵdid"](7,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null)],(function(e,t){var n=t.component;e(t,1,0,l["ɵunv"](t,1,0,l["ɵnov"](t,2).transform("appointment.showOnlyAvailable")),"availability",!n.isDateSelected),e(t,5,0,"availability",!n.isDateSelected,n.isOnlyAvailableSlotsChecked)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1).hostClasses,l["ɵnov"](t,7).ngClassUntouched,l["ɵnov"](t,7).ngClassTouched,l["ɵnov"](t,7).ngClassPristine,l["ɵnov"](t,7).ngClassDirty,l["ɵnov"](t,7).ngClassValid,l["ɵnov"](t,7).ngClassInvalid,l["ɵnov"](t,7).ngClassPending)}))}function E(e){return l["ɵvid"](0,[l["ɵpid"](0,f.b,[d.DatePipe,s.j]),l["ɵqud"](671088640,1,{pickerPopup:0}),(e()(),l["ɵeld"](2,0,null,null,46,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l["ɵnov"](e,4).onSubmit(n)&&i),"reset"===t&&(i=!1!==l["ɵnov"](e,4).onReset()&&i),i}),null,null)),l["ɵdid"](3,16384,null,0,o["ɵangular_packages_forms_forms_z"],[],null,null),l["ɵdid"](4,4210688,[["form",4]],0,o.NgForm,[[8,null],[8,null]],null,null),l["ɵprd"](2048,null,o.ControlContainer,null,[o.NgForm]),l["ɵdid"](6,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(e()(),l["ɵeld"](7,0,null,null,32,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["ɵeld"](8,0,null,null,10,"div",[["class","clearfix"]],null,null,null,null,null)),(e()(),l["ɵeld"](9,0,null,null,5,"div",[["class","form-control-label"]],null,null,null,null,null)),(e()(),l["ɵted"](10,null,[""," "])),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),(e()(),l["ɵeld"](12,0,null,null,2,"span",[["class","form-control-required"]],null,null,null,null,null)),(e()(),l["ɵted"](13,null,["",""])),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),(e()(),l["ɵand"](16777216,null,null,1,null,P)),l["ɵdid"](16,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,A)),l["ɵdid"](18,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](19,0,null,null,1,"dwp-textfield-count-symbols",[],null,[[null,"texfieldValue"]],(function(e,t,n){var l=!0;return"texfieldValue"===t&&(l=!1!==e.component.typedTextfieldValue(n)&&l),l}),C,b)),l["ɵdid"](20,114688,null,0,v,[g.a],{textfieldLength:[0,"textfieldLength"],textfieldRows:[1,"textfieldRows"]},{texfieldValue:"texfieldValue"}),(e()(),l["ɵeld"](21,0,null,null,9,"adapt-datetime2",[["class","form-group"],["name","date"]],[[1,"name",0],[4,"display",null],[8,"className",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"valueChange"],[null,"ngModelChange"]],(function(e,t,n){var l=!0,i=e.component;return"valueChange"===t&&(l=!1!==i.setSelectedDate(n)&&l),"ngModelChange"===t&&(l=!1!==(i.selectedDate=n)&&l),l}),i.xb,i.v)),l["ɵdid"](22,245760,null,0,a.U,[l.Injector,a.fb,l.Renderer2],{label:[0,"label"],name:[1,"name"],errorTexts:[2,"errorTexts"],required:[3,"required"],disabled:[4,"disabled"],requiredLabel:[5,"requiredLabel"],dateInputFormat:[6,"dateInputFormat"],dateFilter:[7,"dateFilter"],headings:[8,"headings"]},{valueChange:"valueChange"}),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),l["ɵdid"](25,16384,null,0,o.RequiredValidator,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,o.NG_VALIDATORS,(function(e,t){return[e,t]}),[a.U,o.RequiredValidator]),l["ɵprd"](1024,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[a.U]),l["ɵdid"](28,671744,null,0,o.NgModel,[[2,o.ControlContainer],[6,o.NG_VALIDATORS],[8,null],[6,o.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,o.NgControl,null,[o.NgModel]),l["ɵdid"](30,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,M)),l["ɵdid"](32,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,O)),l["ɵdid"](34,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,x)),l["ɵdid"](36,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,N)),l["ɵdid"](38,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](39,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](40,0,null,null,8,"div",[["class","modal-footer appointment-modal__footer"]],[[1,"data-ta",0]],null,null,null,null)),(e()(),l["ɵeld"](41,0,null,null,3,"button",[["adapt-button",""],["btn-type","secondary"],["class","btn"],["size","small"],["type","button"]],[[1,"data-ta",0],[1,"disabled",0],[2,"btn",null],[2,"btn-primary",null],[2,"btn-secondary",null],[2,"btn-link",null],[2,"btn-success",null],[2,"btn-info",null],[2,"btn-warning",null],[2,"btn-danger",null],[2,"btn-xs",null],[2,"btn-sm",null],[2,"btn-lg",null],[2,"btn-xl",null],[2,"btn-block",null],[2,"icon-change",null],[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l["ɵnov"](e,42).stopDisabledEvent(n)&&i),"click"===t&&(i=!1!==o.closeModal()&&i),i}),i.rb,i.p)),l["ɵdid"](42,573440,null,0,a.y,[l.ElementRef],{type:[0,"type"],size:[1,"size"]},null),(e()(),l["ɵted"](43,1,[" "," "])),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef]),(e()(),l["ɵeld"](45,0,null,null,3,"button",[["adapt-button",""],["btn-type","primary"],["class","btn"],["size","small"],["type","button"]],[[1,"disabled",0],[2,"btn",null],[2,"btn-primary",null],[2,"btn-secondary",null],[2,"btn-link",null],[2,"btn-success",null],[2,"btn-info",null],[2,"btn-warning",null],[2,"btn-danger",null],[2,"btn-xs",null],[2,"btn-sm",null],[2,"btn-lg",null],[2,"btn-xl",null],[2,"btn-block",null],[2,"icon-change",null],[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l["ɵnov"](e,46).stopDisabledEvent(n)&&i),"click"===t&&(i=!1!==o.submitData()&&i),i}),i.rb,i.p)),l["ɵdid"](46,573440,null,0,a.y,[l.ElementRef],{type:[0,"type"],size:[1,"size"],disabled:[2,"disabled"]},null),(e()(),l["ɵted"](47,1,[" "," "])),l["ɵpid"](131072,s.i,[s.j,l.ChangeDetectorRef])],(function(e,t){var n=t.component;e(t,16,0,n.noCalendars),e(t,18,0,!n.noCalendars),e(t,20,0,255,3),e(t,22,0,l["ɵunv"](t,22,0,l["ɵnov"](t,23).transform("appointment.location.picker.labelForDate")),"date",n.dateErrors,!0,!n.selectedCalendar,l["ɵunv"](t,22,5,l["ɵnov"](t,24).transform("common.labels.required")),n.dateFormats.DATE_ONLY,n.checkIsDateInFuture,n.datePickerLabels),e(t,25,0,!0),e(t,28,0,"date",!n.selectedCalendar,n.selectedDate),e(t,32,0,null==n.slots?null:n.slots.length),e(t,34,0,!n.timeSlotsLoading&&0===n.slots.length&&n.timeSlotsEmpty&&n.selectedDate),e(t,36,0,n.timeSlotsLoading),e(t,38,0,n.exchangeConfigured&&(null==n.slots?null:n.slots.length)),e(t,42,0,"secondary","small"),e(t,46,0,"primary","small",!n.isSubmitEnabled())}),(function(e,t){e(t,2,0,l["ɵnov"](t,6).ngClassUntouched,l["ɵnov"](t,6).ngClassTouched,l["ɵnov"](t,6).ngClassPristine,l["ɵnov"](t,6).ngClassDirty,l["ɵnov"](t,6).ngClassValid,l["ɵnov"](t,6).ngClassInvalid,l["ɵnov"](t,6).ngClassPending),e(t,10,0,l["ɵunv"](t,10,0,l["ɵnov"](t,11).transform("appointment.location.picker.labelForPicker"))),e(t,13,0,l["ɵunv"](t,13,0,l["ɵnov"](t,14).transform("common.labels.required"))),e(t,21,1,[l["ɵnov"](t,22).name,"block",l["ɵnov"](t,22).hostClasses,l["ɵnov"](t,25).required?"":null,l["ɵnov"](t,30).ngClassUntouched,l["ɵnov"](t,30).ngClassTouched,l["ɵnov"](t,30).ngClassPristine,l["ɵnov"](t,30).ngClassDirty,l["ɵnov"](t,30).ngClassValid,l["ɵnov"](t,30).ngClassInvalid,l["ɵnov"](t,30).ngClassPending]),e(t,40,0,"appointmentModalFooter"),e(t,41,1,["appointmentModalCancelButton",l["ɵnov"](t,42).disabled?"disabled":null,!0,"primary"==l["ɵnov"](t,42).type||"special"==l["ɵnov"](t,42).type,"secondary"==l["ɵnov"](t,42).type,"tertiary"==l["ɵnov"](t,42).type,"success"==l["ɵnov"](t,42).type,"info"==l["ɵnov"](t,42).type,"warning"==l["ɵnov"](t,42).type,"critical"==l["ɵnov"](t,42).type,"xtra-small"==l["ɵnov"](t,42).size,"small"==l["ɵnov"](t,42).size,"large"==l["ɵnov"](t,42).size,"xtra-large"==l["ɵnov"](t,42).size,"block"==l["ɵnov"](t,42).size,"special"==l["ɵnov"](t,42).type,!0===l["ɵnov"](t,42).disabled]),e(t,43,0,l["ɵunv"](t,43,0,l["ɵnov"](t,44).transform("common.buttons.cancel"))),e(t,45,1,[l["ɵnov"](t,46).disabled?"disabled":null,!0,"primary"==l["ɵnov"](t,46).type||"special"==l["ɵnov"](t,46).type,"secondary"==l["ɵnov"](t,46).type,"tertiary"==l["ɵnov"](t,46).type,"success"==l["ɵnov"](t,46).type,"info"==l["ɵnov"](t,46).type,"warning"==l["ɵnov"](t,46).type,"critical"==l["ɵnov"](t,46).type,"xtra-small"==l["ɵnov"](t,46).size,"small"==l["ɵnov"](t,46).size,"large"==l["ɵnov"](t,46).size,"xtra-large"==l["ɵnov"](t,46).size,"block"==l["ɵnov"](t,46).size,"special"==l["ɵnov"](t,46).type,!0===l["ɵnov"](t,46).disabled]),e(t,47,0,l["ɵunv"](t,47,0,l["ɵnov"](t,48).transform("common.buttons.submit")))}))}function w(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"dwp-create-appointment",[],null,null,null,E,k)),l["ɵprd"](512,null,S.a,S.a,[]),l["ɵdid"](2,114688,null,0,y.a,[_.a,s.j,I.c,T.a,L.a,D.a,a.fb,f.b,S.a,a.b,a.dc,R.b],null,null)],(function(e,t){e(t,2,0)}),null)}var U=l["ɵccf"]("dwp-create-appointment",y.a,w,{},{},[])},ssV3:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var l=n("mrSG"),i=n("cxbk"),o=n("t/Na"),a=n("ey9i"),s=n("KKC2"),r=n("hVfx"),u=n("CcnG"),c=n("ryO2"),d=n("A7o+"),p=function(){function e(e,t,n,l){this.httpClient=e,this.userService=t,this.toastMessageService=n,this.translateService=l,this.locationsUrl=i.a.baseURLVersion2+"/location",this.searchUrl=i.a.baseSearchUrl,this.assetIconsList=["entry","elevator","printer_copier_fax","printer_copier_fax","security","exit_adapt","mailroom_shipping","service_desk_appointment_location","video_equipment","cafeteria","conference_room","office_room","lobby","reception_area","briefing_center","training_room","game_room","other","hot_hoteling_desk","hot_hoteling_desk","hot_hoteling_desk","hot_hoteling_desk","office_room","conference_room","other","stairs","restroom_men_women","gym","cubicle","service_desk_appointment_location","break_room","cafeteria","elevator","entry","exit_adapt","printer_copier_fax","game_room","gym","lobby","mailroom_shipping","restroom_men","printer_copier_fax","reception_area","restroom_men_women","security","service_desk","stairs","training_room","video_equipment","restroom_women","break_room","service_desk","restroom_women","restroom_men"]}return e.prototype.prepareQueryParams=function(e){return(new o.i).append("type",e.type).append("user_id",e.userId).append("element_id",e.elementId).append("note",this.translateService.instant(e.available?"location.item.status.available":"location.item.status.notAvailable"))},e.prototype.checkIn=function(e,t){var n=this;return this.httpClient.post(i.a.baseURLVersion2+"/checkin",null,{params:this.prepareQueryParams(e)}).toPromise().then(this.defaultSearchResultProcessing).then((function(e){n.userService.userProfile.checkinId=e[0].checkinId,t&&n.toastMessageService.setToastMessage({severity:r.a.SUCCESS,detail:"",summary:n.translateService.instant("location.message.successfulCheckIn",{location:t})})})).catch((function(){n.toastMessageService.addGenericServerError()}))},e.prototype.checkOut=function(e,t){var n=this;return this.httpClient.delete(i.a.baseURLVersion2+"/checkin",{params:this.prepareQueryParams(e)}).toPromise().then((function(){n.userService.userProfile.checkinId=null,t&&n.toastMessageService.setToastMessage({severity:r.a.SUCCESS,detail:"",summary:n.translateService.instant("location.message.successfulCheckOut",{location:t})})})).catch((function(){n.toastMessageService.addGenericServerError()}))},e.prototype.getAllLocations=function(){return this.httpClient.get(this.locationsUrl+"?floor_map_count=true").toPromise().then((function(e){return e&&e[0]&&e[0].items}))},e.prototype.locationToPickerItem=function(e){var t=a.j.getProfileImgLink(s.a.location,e.id),n=e.name,i=[e.address];return Object(l.__assign)({},e,{iconUrl:t,iconPlaceholder:"facilities",firstLine:n,additionalData:i})},e.prototype.getLocationProfileById=function(e){return this.httpClient.get(this.locationsUrl+"/"+e+"?floor_map_count=true").toPromise().then((function(e){return e&&e[0]&&e[0].items&&e[0].items[0]}))},e.prototype.getAssetProfileById=function(e){return this.httpClient.get(i.a.baseURLVersion2+"/profile/asset/"+e).toPromise().then((function(e){var t=e&&e[0]&&e[0].items&&e[0].items[0];if(t)try{t.extraData=JSON.parse(t.extraData)}catch(n){console.error(n)}return t}))},e.prototype.getDirectionLink=function(e){return"//maps.google.com/?daddr="+e},e.prototype.getClusterOptions=function(){return{maxZoom:15,styles:[{url:"",height:33,width:33,fontFamily:"Open Sans",fontWeight:"normal"}],zoomOnClick:!1,averageCenter:!0}},e.prototype.markerTrackByFnByFn=function(e,t){return t&&t.id||e},e.prototype.getLocationAndFloorMapsByLocationId=function(e){return this.httpClient.post(this.searchUrl,{queryName:"MYIT_LOCATION_BY_ID",queryParameters:[{name:"id",value:e}]}).toPromise().then(this.processLocationWithFloorMapsData)},e.prototype.getLocationAndFloorMapsByFloorMapId=function(e){return this.httpClient.post(this.searchUrl,{attributes:{Location:["id","name","address","desc","phone","siteName","createDate","modifiedDate","latitude","longitude"],LocationFloorMap:["id","name","desc","floorOrder","hasImage"]},queryName:"MYIT_LOCATION_BY_FLOOR_MAP_ID",queryParameters:[{name:"id",value:e}]}).toPromise().then(this.processLocationWithFloorMapsData)},e.prototype.getAllAssetsByLocationId=function(e){return this.httpClient.post(this.searchUrl,{queryName:"MYIT_FLOOR_MAP_ASSETS_BY_LOCATION_ID",queryParameters:[{name:"locationId",value:e}]}).toPromise().then(this.defaultSearchResultProcessing)},e.prototype.getAllAssetsTypes=function(){return this.httpClient.post(this.searchUrl,{queryName:"MYIT_ALL_ASSETS_TYPE_QUERY"}).toPromise().then(this.defaultSearchResultProcessing)},e.prototype.getAssetById=function(e){return this.httpClient.post(this.searchUrl,{queryName:"MYIT_FLOOR_MAP_ASSET_GET_BY_ID",queryParameters:[{name:"id",value:e}]}).toPromise()},e.prototype.getAssetIconByAlias=function(e){return this.assetIconsList[e]},e.prototype.processLocationWithFloorMapsData=function(e){void 0===e&&(e=[]);var t=e.filter((function(e){return"Location"===e.dataSourceName}))[0],n=e.filter((function(e){return"LocationFloorMap"===e.dataSourceName}))[0];return{location:t&&t.items&&t.items[0]||{},floorMaps:n&&n.items||[]}},e.prototype.defaultSearchResultProcessing=function(e){return e&&e[0]&&e[0].items||[]},e.prototype.calculateDistanceVariable=function(e,t){var n=this.toRad(t.latitude-e.latitude),l=this.toRad(t.longitude-e.longitude),i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this.toRad(e.latitude))*Math.cos(this.toRad(t.latitude))*Math.sin(l/2)*Math.sin(l/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))},e.prototype.toRad=function(e){return e*Math.PI/180},e.ngInjectableDef=u["ɵɵdefineInjectable"]({factory:function(){return new e(u["ɵɵinject"](o.c),u["ɵɵinject"](c.a),u["ɵɵinject"](r.b),u["ɵɵinject"](d.j))},token:e,providedIn:"root"}),e}()}}]);